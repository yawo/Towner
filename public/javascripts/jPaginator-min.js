(function(b){b.fn.jPaginator=function(w){var f,n,m,j,k,g,h,q,r,l;1!=this.size()&&b.error("You must use this plugin with a unique element");var a={selectedPage:null,nbPages:100,nbVisible:10,widthPx:30,marginPx:1,overBtnLeft:null,overBtnRight:null,maxBtnLeft:null,maxBtnRight:null,withSlider:!0,withAcceleration:!0,speed:2,coeffAcceleration:2,minSlidesForSlider:3,onPageClicked:null};f=0;n=1;g=k=j=m=0;r=q=h=!1;l=!0;return this.each(function(){function z(d){d=1*d.html();c.find(".paginator_p.selected").removeClass("selected");
a.selectedPage=d;b(c.find(".paginator_p_bloc .paginator_p").get(a.selectedPage-n+1)).addClass("selected");a.onPageClicked&&a.onPageClicked.call(this,c,a.selectedPage)}function o(d){c.find(".paginator_p.selected").removeClass("selected");var d=Math.min(a.nbPages-a.nbVisible+1,d),d=Math.max(1,d),e=d-2;c.find(".paginator_p_bloc .paginator_p").each(function(){e+=1;b(this).html(e);a.selectedPage==e&&b(this).addClass("selected")});c.find(".paginator_p_bloc").css("left","-"+f+"px");n=d;k=(d-1)*f;m=0}function p(a){var a=
Math.round(100*(a/j)),e=c.find(".paginator_slider").slider("option","value");a!=e&&c.find(".paginator_slider").slider("option","value",a)}function x(d,e){if(l&&!h){var b=e.value,b=Math.min(100,b),b=Math.max(0,b),c=Math.round(j*b/100)-k;100==b?o(a.nbPages-a.nbVisible+1):0==b?o(1):t(c)}}function t(d){var b=Math.abs(d)/d,g=m+d,b=b*Math.floor(Math.abs(g)/f);m=g%=f;var h=(n-1)*f+m,l=n+b;1>l&&(h=-1);l>a.nbPages&&(h=j+1);0>h?(o(1),m=k=0,p(0),q=!0,s()):h>j?(o(a.nbPages),k=j,m=0,p(j),r=!0,s()):(r=q=!1,k=h,
0!=d&&(0!=b&&o(l),p(k),c.find(".paginator_p_bloc").css("left",-1*g-f+"px")))}function s(){g=0;h=!1}function u(a){if(!(r&&"right"==a)&&!(q&&"left"==a)){var b=Math.round(j/10);"left"==a&&(b*=-1);t(b);setTimeout(function(){g+=1;u(a)},20)}}function v(b){if(h){var c=Math.min(Math.abs(a.speed),5),f=Math.min(Math.abs(a.coeffAcceleration),5);a.withAcceleration&&(c=Math.round(c+Math.round(f*g*g/8E4)));"left"==b&&(c*=-1);t(c);setTimeout(function(){g+=1;v(b)},10)}}function y(){var d,e;a.nbVisible=Math.min(a.nbVisible,
a.nbPages);c.find(".paginator_p_bloc > .paginator_p").remove();for(i=1;i<=a.nbVisible+2;i++)c.find(".paginator_p_bloc").append(b("<a class='paginator_p'></a>"));d=a.nbVisible<a.nbPages;a.overBtnLeft&&(d?b(a.overBtnLeft).show():b(a.overBtnLeft).hide());a.overBtnRight&&(d?b(a.overBtnRight).show():b(a.overBtnRight).hide());a.maxBtnLeft&&(d?b(a.maxBtnLeft).show():b(a.maxBtnLeft).hide());a.maxBtnRight&&(d?b(a.maxBtnRight).show():b(a.maxBtnRight).hide());d?(d=Math.ceil(a.nbPages/a.nbVisible),e=a.withSlider,
(e=d<a.minSlidesForSlider?!1:a.withSlider)?(c.find(".paginator_slider").show(),c.find(".paginator_slider").children().show()):(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide())):(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide());d=0;e=c.find(".paginator_p").first().css("border-left-width");0<e.indexOf("px")&&(d=1*e.replace("px",""));f=a.widthPx+2*a.marginPx+2*d;d=1*f*a.nbVisible;c.find(".paginator_p").css("width",a.widthPx+"px");c.find(".paginator_p").css("margin",
"0 "+a.marginPx+"px 0 "+a.marginPx+"px");c.find(".paginator_p_wrap").css("width",d+"px");c.find(".paginator_slider").css("width",d+"px");j=a.nbPages*f-a.nbVisible*f;a.selectedPage=Math.min(a.selectedPage,a.nbPages);o(a.selectedPage-Math.floor((a.nbVisible-1)/2));l=!1;p(k);l=!0;a.selectedPage&&b(c.find(".paginator_p_bloc .paginator_p").get(a.selectedPage-n+1)).addClass("selected");c.find(".paginator_p").bind("click.jPaginator",function(){return z(b(this))})}var c=b(this);w&&b.extend(a,w);y();b(this).bind("reset",
function(c,e){b.extend(a,e);y()});a.withSlider&&a.nbVisible<a.nbPages&&(c.find(".paginator_slider").slider({animate:!1}),c.find(".paginator_slider").bind("slidechange.jPaginator",function(a,b){return x(a,b)}),c.find(".paginator_slider").bind("slide.jPaginator",function(a,b){return x(a,b)}),p(k));a.overBtnLeft&&b(a.overBtnLeft).bind("mouseenter.jPaginator",function(){b(this);h=true;v("left")});a.overBtnLeft&&b(a.overBtnLeft).bind("mouseleave.jPaginator",function(){b(this);s()});a.overBtnRight&&b(a.overBtnRight).bind("mouseenter.jPaginator",
function(){b(this);h=true;v("right")});a.overBtnRight&&b(a.overBtnRight).bind("mouseleave.jPaginator",function(){b(this);s()});a.maxBtnLeft&&b(a.maxBtnLeft).bind("click.jPaginator",function(){return u("left")});a.maxBtnRight&&b(a.maxBtnRight).bind("click.jPaginator",function(){return u("right")});c.find(".paginator_p").bind("mouseenter.jPaginator",function(){var a=b(this);c.find(".paginator_p.over").removeClass("over");a.addClass("over")});c.find(".paginator_p").bind("mouseleave.jPaginator",function(){b(this);
c.find(".paginator_p.over").removeClass("over")})})}})(jQuery);